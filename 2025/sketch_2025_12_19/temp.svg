<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg">
<g font-family="monospace" font-size="14px">
<text x="0" y="14" xml:space="preserve"><tspan fill="#ff4689">import</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">py5</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="33" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="52" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#ff4689">from</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">pygments</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">import</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">highlight</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="71" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#ff4689">from</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">pygments</tspan><tspan fill="#f8f8f2">.</tspan><tspan fill="#f8f8f2">lexers</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">import</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">get_lexer_by_name</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="90" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#ff4689">from</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">pygments</tspan><tspan fill="#f8f8f2">.</tspan><tspan fill="#f8f8f2">formatters</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">import</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">SvgFormatter</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="109" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="128" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#ff4689">import</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">cairosvg</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#959077">#&#160;failed&#160;with:&#160;&quot;ValueError:&#160;The&#160;SVG&#160;size&#160;is&#160;undefined&quot;</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="147" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#ff4689">from</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">wand</tspan><tspan fill="#f8f8f2">.</tspan><tspan fill="#f8f8f2">image</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">import</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">Image</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="166" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="185" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#66d9ef">def</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#a6e22e">source_to_svg</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">source_file</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">output_file</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">language</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">python</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2">:</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="204" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#e6db74">&quot;&quot;&quot;</tspan></text>
<text x="0" y="223" xml:space="preserve"><tspan fill="#e6db74">&#160;&#160;&#160;&#160;Convert&#160;source&#160;code&#160;file&#160;to&#160;syntax-highlighted&#160;SVG</tspan></text>
<text x="0" y="242" xml:space="preserve"><tspan fill="#e6db74">&#160;&#160;&#160;&#160;&quot;&quot;&quot;</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="261" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#66d9ef">with</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">open</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">source_file</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">r</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#66d9ef">as</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">file</tspan><tspan fill="#f8f8f2">:</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="280" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">source_code</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">file</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">read</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="299" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">lexer</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">get_lexer_by_name</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">language</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="318" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">formatter</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">SvgFormatter</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="337" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">style</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">monokai</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#959077">#,&#160;full=True,&#160;linenos=True</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="356" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">width</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#ae81ff">800</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="375" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="394" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="413" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">highlighted_code</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">highlight</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">source_code</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">lexer</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">formatter</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="432" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#66d9ef">with</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">open</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">output_file</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">w</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#66d9ef">as</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">svg_file</tspan><tspan fill="#f8f8f2">:</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="451" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">svg_file</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">write</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">highlighted_code</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="470" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="489" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#66d9ef">def</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#a6e22e">setup</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2">:</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="508" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">py5</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">size</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#ae81ff">800</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ae81ff">800</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="527" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">py5</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">background</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#ae81ff">0</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="546" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">source_to_svg</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">__file__</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">temp.svg</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="565" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#959077">#img&#160;=&#160;py5.convert_image(&#39;temp.svg&#39;,&#160;scale=0.5,&#160;parent_width=800)&#160;</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="584" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#959077">#&#160;&#160;&#160;&#160;&#160;with&#160;open(&#39;temp.svg&#39;)&#160;as&#160;svg_file:</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="603" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#959077">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cairosvg.svg2png(</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="622" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#959077">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bytestring=svg_file.read(),&#160;</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="641" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#959077">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;write_to=&#39;temp.png&#39;,</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="660" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#959077">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;background_color=&#39;transparent&#39;</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="679" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#959077">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="698" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">svg</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">Image</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">filename</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">temp.svg</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="717" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">svg</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">save</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">filename</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">temp.png</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="736" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">img</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#f8f8f2">py5</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">load_image</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#e6db74">temp.png</tspan><tspan fill="#e6db74">&#39;</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="755" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2">py5</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">image</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">img</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ae81ff">0</tspan><tspan fill="#f8f8f2">,</tspan><tspan fill="#f8f8f2">&#160;</tspan><tspan fill="#ae81ff">0</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="774" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">&#160;&#160;&#160;&#160;</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="793" xml:space="preserve"><tspan fill="#f8f8f2"></tspan><tspan fill="#f8f8f2">py5</tspan><tspan fill="#ff4689">.</tspan><tspan fill="#f8f8f2">run_sketch</tspan><tspan fill="#f8f8f2">(</tspan><tspan fill="#f8f8f2">block</tspan><tspan fill="#ff4689">=</tspan><tspan fill="#66d9ef">False</tspan><tspan fill="#f8f8f2">)</tspan><tspan fill="#f8f8f2"></tspan></text>
<text x="0" y="812" xml:space="preserve"><tspan fill="#f8f8f2"></tspan></text></g></svg>
